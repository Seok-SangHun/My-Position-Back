<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>포지션 후기 등록(기업)</title>
        <link rel="stylesheet" href="/css/main.css" />
        <link
            rel="stylesheet"
            href="/css/corporation/positioner-review-write.css"
        />
        <link
                rel="stylesheet"
                href="/css/corporation/corporation-login-header.css"
        />
    </head>
    <body>
    <form th:action="@{/corporation/position-review}" method="post" th:object="${corporationReviewDTO}" name="corporationReviewForm">
        <input type="hidden" name="applyId" th:value="${apply.applyId}">
        <header th:replace="~{corporation/corporation-login-header :: #header}"></header>
        <div
            id="interview-write-sri-section"
            class="interview-write-layout-full"
        >
            <div id="interview-write-sri-wrap">
                <div id="interview-write-content">
                    <div class="interview-write-wrap-title-recruit">
                        <h1 class="interview-write-title-common">
                            포지셔너 후기 등록(기업)
                        </h1>
                        <p class="interview-write-txt-write-info">
                            포지션 경험을 바탕으로 후기를 작성합니다. 작성해주신
                            포지셔너 후기는
                            <b>포지셔너 후기</b>
                            (으)로 등록됩니다.
                        </p>
                    </div>
                    <div class="interview-write-wrap-interview-review">
                        <form name="interview-write-review-form">
                            <input
                                type="hidden"
                                name="interview-write-idx"
                                value
                            />
                            <fieldset>
                                <div class="interview-write-review-write">
                                    <h2 class="interview-write-tit-step">
                                        기본 정보 입력
                                    </h2>
                                    <p class="interview-write-txt-point">
                                        <span
                                            class="interview-write-spr-review interview-write-point"
                                        >
                                            <span class="interview-write-blind"
                                                >필수</span
                                            >
                                        </span>
                                        는 필수입력정보입니다
                                    </p>
                                    <div class="interview-write-tblType">
                                        <table>
                                            <colgroup>
                                                <col style="width: 170px" />
                                                <col />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <label
                                                            for="companyName"
                                                            class="interview-write-tit-item"
                                                        >
                                                            기업명
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </label>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <div
                                                            class="interview-write-auto-search"
                                                        >
                                                            <div
                                                                id="companyName"
                                                                class="interview-write-Typo"
                                                                title="기업명"
                                                                th:text="${apply.corporationName}"
                                                            >
                                                                기업명 정보
                                                                들어가야됨
                                                            </div>
                                                        </div>
                                                        <em
                                                            class="interview-write-msgInvalid interview-write-msgCompanynm interview-write-hide"
                                                            >필수
                                                            항목입니다.</em
                                                        >
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <label
                                                            for="memberName"
                                                            class="interview-write-tit-item"
                                                        >
                                                            포지셔너
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </label>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <div
                                                            class="interview-write-auto-search"
                                                        >
                                                            <div
                                                                id="memberName"
                                                                class="interview-write-Typo"
                                                                title="포지셔너"
                                                                th:text="${apply.memberName}"
                                                            >
                                                                포지셔너 이름
                                                                정보 들어가야됨
                                                            </div>
                                                        </div>
                                                        <em
                                                            class="interview-write-msgInvalid interview-write-msgCompanynm interview-write-hide"
                                                            >필수
                                                            항목입니다.</em
                                                        >
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <label
                                                            for="noticeJobCategoryName"
                                                            class="interview-write-tit-item"
                                                        >
                                                            직무·직업
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </label>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <div
                                                            class="interview-write-auto-search"
                                                        >
                                                            <div
                                                                id="noticeJobCategoryName"
                                                                class="interview-write-Typo"
                                                                title="직무·직업"
                                                                th:text="${apply.noticeJobCategoryName}"
                                                            >
                                                                경험한 포지션에
                                                                대한 직무·직업
                                                                들어가야됨
                                                            </div>
                                                        </div>

                                                        <em
                                                            class="interview-write-msgInvalid interview-write-msgJobCategory interview-write-hide"
                                                            >필수
                                                            항목입니다.</em
                                                        >
                                                    </td>
                                                </tr>
                                                <!-- 면접 당시 경력 -->
                                                <!-- <tr>
                                                    <th scope="row" class="interview-write-txtLeft">
                                                        <strong class="interview-write-tit-item"></strong>
                                                    </th>
                                                    <td class="interview-write-txtLeft"></td>
                                                </tr> -->
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <strong
                                                            class="interview-write-tit-item"
                                                        >
                                                            포지션 경험 일자
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </strong>
                                                    </th>
                                                    <td class="interview-write-txtLeft">
                                                        <div class="interview-write-auto-search">
                                                            <div class="interview-write-Typo"  th:text="${apply.noticeWorkStartDate} + ' ~ ' + ${apply.noticeWorkEndDate}"></div>
                                                        </div>

                                                        <em class="interview-write-msgInvalid interview-write-msgJobCategory interview-write-hide">필수
                                                            항목입니다.</em>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="interview-write-review-write">
                                    <h2 class="interview-write-tit-step">
                                        포지셔너 후기 입력
                                    </h2>
                                    <p class="interview-write-txt-point">
                                        <span
                                            class="interview-write-spr-review interview-write-point"
                                        >
                                            <span class="interview-write-blind"
                                                >필수</span
                                            >
                                        </span>
                                        는 필수입력정보입니다
                                    </p>
                                    <div class="interview-write-tblType">
                                        <table>
                                            <colgroup>
                                                <col style="width: 170px" />
                                                <col />
                                            </colgroup>
                                            <tbody>
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <strong
                                                            class="interview-write-tit-item"
                                                        >
                                                            전반적 평가
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </strong>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <span
                                                            class="interview-write-inpRdoSw interview-write-colorWhite overall-focus"
                                                        >
                                                            <span
                                                                class="interview-write-inOption"
                                                            >
                                                                <input
                                                                        th:field="*{evaluationOverall}"
                                                                        type="radio"
                                                                        id="evaluation1"
                                                                        name="evaluationOverall"
                                                                        value="긍정적"
                                                                />
                                                                <label
                                                                    for="evaluation1"
                                                                    class="interview-write-lbl"
                                                                    >긍정적</label
                                                                >
                                                            </span>
                                                            <span
                                                                class="interview-write-inOption"
                                                            >
                                                                <input
                                                                        th:field="*{evaluationOverall}"
                                                                        type="radio"
                                                                        id="evaluation2"
                                                                        name="evaluationOverall"
                                                                        value="보통"
                                                                />
                                                                <label
                                                                    for="evaluation2"
                                                                    class="interview-write-lbl"
                                                                    >보통</label
                                                                >
                                                            </span>
                                                            <span
                                                                class="interview-write-inOption"
                                                            >
                                                                <input
                                                                        th:field="*{evaluationOverall}"
                                                                        type="radio"
                                                                        id="evaluation3"
                                                                        name="evaluationOverall"
                                                                        value="부정적"
                                                                />
                                                                <label
                                                                    for="evaluation3"
                                                                    class="interview-write-lbl"
                                                                    >부정적</label
                                                                >
                                                            </span>
                                                        </span>
                                                        <em
                                                            class="interview-write-msgInvalid interview-write-msgEvaluation interview-write-hide"
                                                            >필수
                                                            항목입니다.</em
                                                        >
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <strong
                                                            class="interview-write-tit-item"
                                                        >
                                                            난이도
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </strong>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <span
                                                            class="interview-write-inpRdoSw interview-write-colorWhite difficulty-focus"
                                                        >
                                                            <span
                                                                class="interview-write-inOption"
                                                            >
                                                                <input
                                                                    th:field="*{evaluationDifficulty}"
                                                                    type="radio"
                                                                    name="evaluationDifficulty"
                                                                    id="difficult1"
                                                                    value="쉬움"
                                                                />
                                                                <label
                                                                    for="difficult1"
                                                                    class="interview-write-lbl"
                                                                    >쉬움</label
                                                                >
                                                            </span>
                                                            <span
                                                                class="interview-write-inOption"
                                                            >
                                                                <input
                                                                    th:field="*{evaluationDifficulty}"
                                                                    type="radio"
                                                                    name="evaluationDifficulty"
                                                                    id="difficult2"
                                                                    value="보통"
                                                                />
                                                                <label
                                                                    for="difficult2"
                                                                    class="interview-write-lbl"
                                                                    >보통</label
                                                                >
                                                            </span>
                                                            <span
                                                                class="interview-write-inOption"
                                                            >
                                                                <input
                                                                    th:field="*{evaluationDifficulty}"
                                                                    type="radio"
                                                                    name="evaluationDifficulty"
                                                                    id="difficult3"
                                                                    value="어려움"
                                                                />
                                                                <label
                                                                    for="difficult3"
                                                                    class="interview-write-lbl"
                                                                    >어려움</label
                                                                >
                                                            </span>
                                                        </span>
                                                    </td>
                                                </tr>

                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <label
                                                            for="reviewContent"
                                                            class="interview-write-tit-item"
                                                        >
                                                            업무 내용 및
                                                            <br />
                                                            진행방식

                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </label>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <div
                                                            class="interview-write-textarea"
                                                        >
                                                            <textarea
                                                                th:field="*{reviewContent}"
                                                                name="reviewContent"
                                                                id="reviewContent"
                                                                class="interview-write-tf-input"
                                                                title="전형 및 면접 진행방식"
                                                                cols="25"
                                                                rows="5"
                                                                placeholder="어떤 내용의 업무를 전달하셨나요? (사실이 아닌 비방이나 개인적인 의견은 등록이 거절될 수 있습니다.)"
                                                            ></textarea>
                                                            <span
                                                                class="interview-write-txt-byte"
                                                            >
                                                                <em
                                                                    class="interview-write-emph"
                                                                >
                                                                    현재
                                                                    <span id="charReviewCount"
                                                                        >00</span
                                                                    >자
                                                                </em>
                                                                / 최소 50자
                                                            </span>
                                                            <em
                                                                id="error-msg-review"
                                                                class="interview-write-msgInvalid interview-write-msgContents interview-write-hide"
                                                                style="color: red; display: none;"
                                                                >최소 50자를 입력해주세요.</em
                                                            >
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th
                                                        scope="row"
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <label
                                                            for="reviewTips"
                                                            class="interview-write-tit-item"
                                                        >
                                                            TIP 및 특이사항
                                                            <span
                                                                class="interview-write-spr-review interview-write-point"
                                                            >
                                                                <span
                                                                    class="interview-write-blind"
                                                                    >필수</span
                                                                >
                                                            </span>
                                                        </label>
                                                    </th>
                                                    <td
                                                        class="interview-write-txtLeft"
                                                    >
                                                        <div
                                                            class="interview-write-textarea"
                                                        >
                                                            <textarea
                                                                th:field="*{reviewTips}"
                                                                name="reviewTips"
                                                                id="reviewTips"
                                                                class="interview-write-tf-input"
                                                                title="전형 및 면접 진행방식"
                                                                cols="25"
                                                                rows="5"
                                                                placeholder="포지셔너에게 전하고 싶은 TIP 또는 특이사항이 있나요? (사실이 아닌 비방이나 개인적인 의견은 등록이 거절될 수 있습니다.)"
                                                            ></textarea>
                                                            <span
                                                                class="interview-write-txt-byte"
                                                            >
                                                                <em
                                                                    class="interview-write-emph"
                                                                >
                                                                    현재
                                                                    <span id="charTipCount"
                                                                        >00</span
                                                                    >자
                                                                </em>
                                                                / 최소 50자
                                                            </span>
                                                            <em
                                                                id="error-msg-tip"
                                                                class="interview-write-msgInvalid interview-write-msgContents interview-write-hide"
                                                                style="color: red; display: none;"
                                                                >최소 50자를 입력해주세요.</em
                                                            >
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="interview-write-review-write">
                                    <button
                                        id="submitBtn"
                                        type="submit"
                                        class="interview-write-btn-confirm"
                                    >
                                        등록 요청
                                    </button>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </form>
    </body>
    <script src="/js/corporation/corporation-login-header.js"></script>
    <script src="/js/corporation/interview-review-write.js"></script>
    <script>
        const reviewTips = document.getElementById('reviewTips');
        const reviewContents = document.getElementById('reviewContent');
        const charTipCount = document.getElementById('charTipCount');
        const charReviewCount = document.getElementById('charReviewCount');
        const errorMsgTip = document.getElementById('error-msg-tip');
        const errorMsgReview = document.getElementById('error-msg-review');
        const difficultyOptions = document.getElementsByName("evaluationDifficulty");
        const overallOptions = document.getElementsByName("evaluationOverall");
        const overallFocus = document.querySelector(".overall-focus");
        const difficultyFocus = document.querySelector(".difficulty-focus");

        reviewTips.addEventListener('input', (e)=> {
            charTipCount.textContent = e.target.value.length;
        });
        reviewContents.addEventListener('input', (e)=> {
            charReviewCount.textContent = e.target.value.length;
        });

        // 제출 버튼 클릭 시 글자 수 확인
        document.getElementById('submitBtn').addEventListener('click', (e) => {

            let isDifficultySelected = false;
            let isOverallSelected = false;

            // 평가 난이도 선택 여부 확인
            for (let option of difficultyOptions) {
                if (option.checked) {
                    isDifficultySelected = true;
                    break;
                }
            }

            // 전반적 평가 선택 여부 확인
            for (let option of overallOptions) {
                if (option.checked) {
                    isOverallSelected = true;
                    break;
                }
            }

            // 두 라디오 그룹 중 하나라도 선택되지 않은 경우
            if (!isDifficultySelected || !isOverallSelected) {
                e.preventDefault();
                alert("평가 난이도와 전반적 평가를 모두 선택해 주세요.");

                // 포커스 설정: 평가 난이도가 선택되지 않은 경우에 포커스 설정
                if (!isDifficultySelected) {
                    difficultyFocus.focus();
                } else if (!isOverallSelected) {
                    overallFocus.focus();
                }
            }

            // 글자 수가 50자 미만이면 제출 차단
            if (reviewTips.value.length < 50) {
                e.preventDefault(); // 제출 차단
                reviewTips.focus();
                errorMsgTip.style.display = 'inline'; // 오류 메시지 표시
            } else {
                errorMsgTip.style.display = 'none'; // 오류 메시지 숨김
            }

            // 글자 수가 50자 미만이면 제출 차단
            if (reviewContents.value.length < 50) {
                e.preventDefault(); // 제출 차단
                reviewContents.focus();
                errorMsgReview.style.display = 'inline'; // 오류 메시지 표시
            } else {
                errorMsgReview.style.display = 'none'; // 오류 메시지 숨김
            }
        });
    </script>
</html>
